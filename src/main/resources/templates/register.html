<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Register</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
	</head>
	<body class="p-4">
		<div class="container">
			<h1>User Registration</h1>
			<form id="registerForm" class="mt-4">
				<div class="mb-3">
					<input type="text" id="firstName" class="form-control" placeholder="First Name" required>
				</div>
				<div class="mb-3">
					<input type="text" id="lastName" class="form-control" placeholder="Last Name" required>
				</div>
				<div class="mb-3">
					<input type="text" id="userName" class="form-control" placeholder="Username" required>
				</div>
				<div class="mb-3">
					<input type="email" id="email" class="form-control" placeholder="Email" required>
				</div>
				<div class="mb-3">
					<input type="password" id="password" class="form-control" placeholder="Password" required>
				</div>
				<button type="submit" class="btn btn-primary">Register</button>
			</form>
			<div id="message" class="mt-3"></div>
		</div>
		
		<script>
			const API_URL = 'http://localhost:8080/users/register';
			
			document.getElementById('registerForm').addEventListener('submit', function(e)
			{
				e.preventDefault();
				const user = 
				{
					firstName: document.getElementById('firstName').value,
					lastName: document.getElementById('lastName').value,
					userName: document.getElementById('userName').value,
					email: document.getElementById('email').value,
					password: document.getElementById('password').value
				};
					fetch(API_URL, 
					{
						method: 'POST',
						headers:{ 'Content-Type': 'application/json' },
						body: JSON.stringify(user)
					})
					.then(res => res.json())
					.then(data => 
					{
						document.getElementById('message').innerText = "Registration Successful!";
						this.reset();
					})
					.catch(() =>
					{
						document.getElementById('message').innerText = "Error during registration.";
					});
				});
				
		</script>
	</body>
</html>